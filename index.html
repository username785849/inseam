<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Recon Loading Screen</title>

<style>
    body {
        margin: 0;
        overflow: hidden;
        background: black;
        font-family: "Courier New", monospace;
        color: white;
    }

    canvas {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 0;
    }

    .terminal {
        position: absolute;
        z-index: 5;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        width: 600px;
        background: rgba(0,0,0,0.9);
        border: 1px solid white;
        padding: 20px;
        box-shadow: 0 0 20px white;
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.8);
        transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .terminal.show {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }

    .line {
        margin: 5px 0;
    }

    .progress-box {
        width: 100%;
        border: 1px solid white;
        height: 18px;
        margin: 10px 0;
    }

    .progress-fill {
        width: 0%;
        height: 100%;
        background: white;
        transition: width 0.2s;
    }

    #sysinfo {
        margin-top: 15px;
        display: none;
        font-size: 14px;
        line-height: 1.3;
    }
</style>
</head>

<body>

<canvas id="matrix"></canvas>

<div class="terminal" id="terminal">
    <div class="line">[*] Initializing reconnaissance module...</div>
    <div class="progress-box"><div class="progress-fill" id="prog"></div></div>

    <div class="line">[+] Target acquired</div>
    <div class="line">[*] Extracting system fingerprint...</div>
    <div class="line">[~] Network analysis...</div>

    <div id="sysinfo"></div>
</div>

<script>
/* ===== MATRIX BACKGROUND ===== */
const canvas = document.getElementById("matrix");
const ctx = canvas.getContext("2d");

canvas.height = window.innerHeight;
canvas.width = window.innerWidth;

const chars = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";
const fontSize = 16;
const columns = canvas.width / fontSize;
let drops = Array.from({length: columns}, () => 1);

function drawMatrix() {
    ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    ctx.fillStyle = "white";
    ctx.font = fontSize + "px monospace";

    for (let i = 0; i < drops.length; i++) {
        const text = chars.charAt(Math.floor(Math.random() * chars.length));
        ctx.fillText(text, i * fontSize, drops[i] * fontSize);

        if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
        drops[i]++;
    }
}

setInterval(drawMatrix, 40);

/* ===== GATHER SYSTEM DATA ===== */
async function getIP() {
    try {
        const res = await fetch("https://api.ipify.org/?format=json");
        const data = await res.json();
        return data.ip;
    } catch {
        return "Unknown";
    }
}

async function gatherData() {
    const ip = await getIP();
    const connection = navigator.connection || navigator.webkitConnection;
    const battery = await navigator.getBattery();

    return {
        ip,
        browser: navigator.userAgent,
        resolution: `${window.screen.width}x${window.screen.height}`,
        cpu: navigator.hardwareConcurrency,
        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
        language: navigator.language,
        localTime: new Date().toLocaleTimeString(),
        network: connection ? connection.effectiveType : "Unknown",
        charging: battery.charging,
        battery: Math.round(battery.level * 100) + "%",
        cookies: navigator.cookieEnabled
    };
}

/* ===== PROGRESS BAR & TERMINAL POPUP ===== */
const terminal = document.getElementById("terminal");
const bar = document.getElementById("prog");
const infoBox = document.getElementById("sysinfo");

function showTerminal() {
    terminal.classList.add("show");
}

let progress = 0;
async function startScan() {
    showTerminal();
    while(progress < 100) {
        progress += Math.random() * 10;
        if(progress > 100) progress = 100;
        bar.style.width = progress + "%";
        await new Promise(r => setTimeout(r, 300));
    }

    const info = await gatherData();

    infoBox.style.display = "block";
    infoBox.innerHTML = `
        SCAN COMPLETE<br><br>
        IP Address: ${info.ip}<br>
        Browser: ${info.browser}<br>
        Resolution: ${info.resolution}<br>
        CPU Cores: ${info.cpu}<br>
        Timezone: ${info.timezone}<br>
        Language: ${info.language}<br>
        Local Time: ${info.localTime}<br>
        Network: ${info.network}<br>
        Battery: ${info.battery} (${info.charging ? "Charging" : "Not charging"})<br>
        Cookies Enabled: ${info.cookies}<br><br>
        <span style="color:#888;">All data is client-side only. Nothing is stored.</span>
    `;
}

window.onload = startScan;
</script>

</body>
</html>
